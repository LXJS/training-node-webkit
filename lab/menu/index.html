<html>
<head>
</head>
<body>
<script>
  var gui = require('nw.gui');

  var win = gui.Window.get();
  var menubar = new gui.Menu({ type: 'menubar' });
  var sub1 = new gui.Menu();
  sub1.append(new gui.MenuItem({
    label: 'Test1',
    icon: "icon1.png",
    click: function() {
      var element = document.createElement('div');
      element.appendChild(document.createTextNode('Test 1'));
      document.body.appendChild(element);
    }
  }));

  sub1.append(new gui.MenuItem({
    type: 'checkbox',
    checked: true, 
    label: 'Test CheckBox'
  }));

  var sub2 = new gui.Menu();
  sub2.append(new gui.MenuItem({
    label: 'Test2',
    click: function() {
      var element = document.createElement('div');
      element.appendChild(document.createTextNode('Test 2'));
      document.body.appendChild(element);
    }
  }));
  menubar.append(new gui.MenuItem({ label: 'Sub1', submenu: sub1}));
  menubar.append(new gui.MenuItem({ label: 'Sub2', submenu: sub2}));
  win.menu = menubar;

</script>
</body>
</html>
